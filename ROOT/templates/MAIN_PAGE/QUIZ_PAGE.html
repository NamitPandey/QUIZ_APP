{% extends 'BASE_FILES/baseFile.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/quiz.css' %}">
<div class="container-fluid">
	<div class="col-md-2"></div>
	<div class="col-md-8 quiz">
		{% if AUTHORIZED == 'NO' %}
			<h1 class="title"><strong>{{COMN_MSG}}</strong></h1>
			<a href="{% url 'MCQ:students_portal' %}" style="outline: none; text-decoration:none;">
				<button class="btn btn-warning " type="button" name="button" style="margin-left: 35%;">
					Go Back
				</button>
			</a>
		{% else %}
		<h1 class="title"><b>Awesome Quiz</b></h1>
		<br>
		<div class="row" style="width:75%; margin-left:14%;">
			<p class="col-sm-5" style="text-align:left;">Question {{counter}} of 40
			</p>
			<p class="col-sm-7" style="text-align:right;">
				Time Left:<i id="demo" style="color: red; font-weight:700;"></i>
			</p>
		</div>


		<!-- <h2 class="question">Lorem ipsum dolor sit amet consectetur adipisicing elit.</h2>

		<button id="option1" class="btn" onclick="option1()">option 1</button>
		<button id="option2" class="btn" onclick="option2()">option 2</button>
		<button id="option3" class="btn" onclick="option3()">option 3</button>
		<button id="option4" class="btn" onclick="option4()">option 4</button> -->

		<form id="myForm" class="" action="{% url 'MCQ:quiz' randmNmbr mainID randmNmbr2 counter maxTime%}" method="POST">
			{% csrf_token %}
			{% for q in qstn%}
				<div class="col-xxl-12 pt-5" style="margin-left:15%;">
						<h2 class="question">{{q.QUESTION}}</h2>
						<br>
						<div class="row form-check">
							<input class="col-sm-1" type="radio" id="{{q.CHOICE_1}}" name="exampleRadios" value="{{q.CHOICE_1}}">
							<label class="col-sm-10" for="{{q.CHOICE_1}}" style="margin-left:-20px;">{{q.CHOICE_1}}</label>
							<!-- <input class="col-sm-1" type="radio" name="exampleRadios" value="{{q.CHOICE_1}}" required>
							<label class="col-sm-11" for="{{q.CHOICE_1}}">
								{{q.CHOICE_1}}
							</label> -->
						</div>
						<br>
						<div class="row form-check">
							<input class="col-sm-1" type="radio" id="{{q.CHOICE_2}}" name="exampleRadios" value="{{q.CHOICE_2}}">
							<label class="col-sm-10" for="{{q.CHOICE_2}}" style="margin-left:-20px;">{{q.CHOICE_2}}</label>
							<!-- <input class="radio" type="radio" name="exampleRadios" id="exampleRadios1" value="{{q.CHOICE_2}}" required>
							<label for="{{q.CHOICE_2}}">
								{{q.CHOICE_2}}
							</label> -->
						</div>
						<br>
						<div class="row form-check">
							<input class="col-sm-1" type="radio" id="{{q.CHOICE_3}}" name="exampleRadios" value="{{q.CHOICE_3}}" >
							<label class="col-sm-10" class="col-sm-10" for="{{q.CHOICE_3}}" style="margin-left:-20px;">{{q.CHOICE_3}}</label>
							<!-- <input class="radio" type="radio" name="exampleRadios" id="exampleRadios1" value="{{q.CHOICE_3}}" required>
							<label for="{{q.CHOICE_3}">
								{{q.CHOICE_3}}
							</label> -->
						</div>
						<br>
						<div class="row form-check">
							<input class="col-sm-1" type="radio" id="{{q.CHOICE_4}}" name="exampleRadios" value="{{q.CHOICE_4}}">
							<label class="col-sm-10" for="{{q.CHOICE_4}}" style="margin-left:-20px;">{{q.CHOICE_4}}</label>
							<!-- <input class="radio" type="radio" name="exampleRadios" id="exampleRadios1" value="{{q.CHOICE_4}}" required>
							<label for="{{q.CHOICE_4}}">
								{{q.CHOICE_4}}
							</label> -->
						</div>
						<br>
						<br>
					{% if counter == 40 %}
						<button class="btn btn-warning" type="submit" name="button" style="width:80%;">
									FINISH
						</button>
					{% else%}
						<button class="btn btn-warning" type="submit" name="button" style="width:80%;">
									NEXT
						</button>
					{% endif %}
				</div>
			{% endfor %}
		</form>

		{% endif %}
	</div>

	<script src="JAVA_SCRIPT/quiz.js"></script>
	<div class="col-md-2"></div>
</div>

<!-- <script>
	$(document).ready(function () {
    // Handler for .ready() called.
    window.setTimeout(function () {
        location.href = "{% url 'MCQ:time_out' user.username %}";
    }, 5000);
});
</script> -->
<!-- <script>
	var varTimerInMiliseconds = 5000;
setTimeout(function(){
    document.getElementById("myForm").submit();
}, varTimerInMiliseconds);
</script> -->

<script type="text/javascript">
    function preventBack() {
        window.history.forward();
    }

    setTimeout("preventBack()", 0);

    window.onunload = function () { null };
</script>

<script>

// Set the date we're counting down to
var countDownDate = new Date("{{nowTime|date:'M'}} {{nowTime | date:'d, Y'}} {{maxTime | time:'H'}}:{{maxTime| time:'i'}}:60").getTime()
// "+{{resultedTime | time:"i"}}+":00").getTime();

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();
  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);
  // Output the result in an element with id="demo"
  document.getElementById("demo").innerHTML =  minutes + "m " + seconds + "s ";

  // If the count down is over, write some text
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("demo").innerHTML = "EXPIRED";
    window.location = "{% url 'MCQ:time_out' user.username %}"
  }
}, 1000);
</script>

<!-- disable right click -->
<script>
	document.addEventListener('contextmenu', event => event.preventDefault());
</script>
{% endblock %}
